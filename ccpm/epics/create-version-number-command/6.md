---
name: Test version command and help integration
status: open
created: 2025-10-21T01:40:20Z
updated: 2025-10-21T01:57:41Z
github: https://github.com/visualjc/ccpm/issues/6
depends_on: [001, 002, 003, 004]
parallel: false
conflicts_with: []
---

# Task: Test version command and help integration

## Description

Comprehensive testing of the version command implementation across all scenarios. Verify that `/pm:version` works correctly, `/pm:help` displays version, and error handling functions as expected.

## Acceptance Criteria

- [ ] `/pm:version` displays correct version when VERSION file exists
- [ ] `/pm:version` shows error message when VERSION file missing
- [ ] `/pm:help` displays version at the top
- [ ] `/pm:help` shows "unknown" when VERSION file missing
- [ ] Version format matches spec: `CCPM version YYYY.MM.DD.N`
- [ ] Commands execute in under 1 second
- [ ] All tests pass and documented

## Technical Details

**Test Scenarios**:

1. **Happy Path - /pm:version with VERSION file**
   - Run: `/pm:version`
   - Expected output: `CCPM version 2025.10.21.0`
   - Verify: Output format matches exactly

2. **Error Path - /pm:version without VERSION file**
   - Temporarily rename VERSION file
   - Run: `/pm:version`
   - Expected output: `‚ùå VERSION file not found. Please reinstall CCPM templates.`
   - Restore VERSION file

3. **Happy Path - /pm:help with VERSION file**
   - Run: `/pm:help`
   - Expected: Version appears below title, before separator
   - Verify: Rest of help output unchanged

4. **Error Path - /pm:help without VERSION file**
   - Temporarily rename VERSION file
   - Run: `/pm:help`
   - Expected: Shows "Version: unknown"
   - Verify: Help command still works normally
   - Restore VERSION file

5. **Performance Test**
   - Time execution of `/pm:version`
   - Verify: Completes in < 100ms
   - Time execution of `/pm:help`
   - Verify: No noticeable slowdown

6. **Format Validation**
   - Verify VERSION file contains exactly: `2025.10.21.0`
   - No extra whitespace or newlines
   - Single line format

**Testing Commands**:
```bash
# Test 1: Basic version display
/pm:version

# Test 2: Help integration
/pm:help

# Test 3: Missing VERSION file
mv claude-template/VERSION claude-template/VERSION.bak
/pm:version
/pm:help
mv claude-template/VERSION.bak claude-template/VERSION

# Test 4: Manual script execution
bash claude-template/scripts/pm/version.sh

# Test 5: Performance
time bash claude-template/scripts/pm/version.sh
```

**Files to Verify**:
- `claude-template/VERSION` - Contains correct version
- `claude-template/commands/pm/version.md` - Slash command works
- `claude-template/scripts/pm/version.sh` - Script executes correctly
- `claude-template/scripts/pm/help.sh` - Help shows version

## Dependencies

- [ ] Task 001 - VERSION file
- [ ] Task 002 - version.md command
- [ ] Task 003 - version.sh script
- [ ] Task 004 - help.sh integration

## Effort Estimate

- **Size**: S
- **Hours**: 0.3 (15-20 minutes)
- **Parallel**: false (final validation step)

## Definition of Done

- [ ] All 6 test scenarios pass
- [ ] `/pm:version` works correctly
- [ ] `/pm:help` displays version
- [ ] Error handling verified
- [ ] Performance benchmarks met (< 100ms)
- [ ] No regressions in existing functionality
- [ ] Test results documented
- [ ] Ready for git commit and deployment
